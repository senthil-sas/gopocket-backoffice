import{t as k,H as y,b as M,K as R,T as A,a as D,o as I}from"./use-resolve-button-type-e886095c.js";import{r as f,c as p,d as g,o as w,a as O,H as x,i as C,p as j,D as N,E as L,F as U}from"./index-864637c1.js";import{d as Y,f as q,a as z,p as J}from"./use-controllable-09911bc4.js";let E=Symbol("DescriptionContext");function Q(){let e=C(E,null);if(e===null)throw new Error("Missing parent");return e}function W({slot:e=f({}),name:n="Description",props:o={}}={}){let t=f([]);function s(a){return t.value.push(a),()=>{let l=t.value.indexOf(a);l!==-1&&t.value.splice(l,1)}}return j(E,{register:s,slot:e,name:n,props:o}),p(()=>t.value.length>0?t.value.join(" "):void 0)}g({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${k()}`}},setup(e,{attrs:n,slots:o}){let t=Q();return w(()=>O(t.register(e.id))),()=>{let{name:s="Description",slot:a=f({}),props:l={}}=t,{id:d,...c}=e,v={...Object.entries(l).reduce((u,[m,b])=>Object.assign(u,{[m]:x(b)}),{}),id:d};return y({ourProps:v,theirProps:c,slot:a.value,attrs:n,slots:o,name:s})}}});let $=Symbol("LabelContext");function P(){let e=C($,null);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,P),n}return e}function X({slot:e={},name:n="Label",props:o={}}={}){let t=f([]);function s(a){return t.value.push(a),()=>{let l=t.value.indexOf(a);l!==-1&&t.value.splice(l,1)}}return j($,{register:s,slot:e,name:n,props:o}),p(()=>t.value.length>0?t.value.join(" "):void 0)}g({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${k()}`}},setup(e,{slots:n,attrs:o}){let t=P();return w(()=>O(t.register(e.id))),()=>{let{name:s="Label",slot:a={},props:l={}}=t,{id:d,passive:c,...v}=e,u={...Object.entries(l).reduce((m,[b,S])=>Object.assign(m,{[b]:x(S)}),{}),id:d};return c&&(delete u.onClick,delete u.htmlFor,delete v.onClick),y({ourProps:u,theirProps:v,slot:a,attrs:o,slots:n,name:s})}}});let K=Symbol("GroupContext");g({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:n,attrs:o}){let t=f(null),s=X({name:"SwitchLabel",props:{htmlFor:p(()=>{var l;return(l=t.value)==null?void 0:l.id}),onClick(l){t.value&&(l.currentTarget.tagName==="LABEL"&&l.preventDefault(),t.value.click(),t.value.focus({preventScroll:!0}))}}}),a=W({name:"SwitchDescription"});return j(K,{switchRef:t,labelledby:s,describedby:a}),()=>y({theirProps:e,ourProps:{},slot:{},slots:n,attrs:o,name:"SwitchGroup"})}});let te=g({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${k()}`}},inheritAttrs:!1,setup(e,{emit:n,attrs:o,slots:t,expose:s}){let a=C(K,null),[l,d]=Y(p(()=>e.modelValue),r=>n("update:modelValue",r),p(()=>e.defaultChecked));function c(){d(!l.value)}let v=f(null),u=a===null?v:a.switchRef,m=M(p(()=>({as:e.as,type:o.type})),u);s({el:u,$el:u});function b(r){r.preventDefault(),c()}function S(r){r.key===D.Space?(r.preventDefault(),c()):r.key===D.Enter&&J(r.currentTarget)}function T(r){r.preventDefault()}let h=p(()=>{var r,i;return(i=(r=I(u))==null?void 0:r.closest)==null?void 0:i.call(r,"form")});return w(()=>{N([h],()=>{if(!h.value||e.defaultChecked===void 0)return;function r(){d(e.defaultChecked)}return h.value.addEventListener("reset",r),()=>{var i;(i=h.value)==null||i.removeEventListener("reset",r)}},{immediate:!0})}),()=>{let{id:r,name:i,value:V,form:B,...F}=e,G={checked:l.value},H={id:r,ref:u,role:"switch",type:m.value,tabIndex:0,"aria-checked":l.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:b,onKeyup:S,onKeypress:T};return L(U,[i!=null&&l.value!=null?L(q,R({features:z.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:l.value,form:B,name:i,value:V})):null,y({ourProps:H,theirProps:{...o,...A(F,["modelValue","defaultChecked"])},slot:G,attrs:o,slots:t,name:"Switch"})])}}});export{te as u};
